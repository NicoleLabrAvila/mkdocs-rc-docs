



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for the centrally provided Research Computing HPC services at UCL.">
      
      
        <link rel="canonical" href="http://rits.github-pages.ucl.ac.uk/mkdocs-rc-docs/Wiki_Export/software/unedited/Running_Gaussian_09_on_Legion/">
      
      
        <meta name="author" content="UCL RCAS Team">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Running Gaussian 09 on Legion</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
    
    <link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#shared-memory-gaussian-jobs" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://rits.github-pages.ucl.ac.uk/mkdocs-rc-docs/" title="UCL Research Computing Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../../../img/portico.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              UCL Research Computing Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Running Gaussian 09 on Legion
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/UCL-RITS/mkdocs-rc-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    UCL-RITS/mkdocs-rc-docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://rits.github-pages.ucl.ac.uk/mkdocs-rc-docs/" title="UCL Research Computing Documentation" class="md-nav__button md-logo">
      
        <img src="../../../../img/portico.svg" width="48" height="48">
      
    </a>
    UCL Research Computing Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/UCL-RITS/mkdocs-rc-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    UCL-RITS/mkdocs-rc-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../Contact_Us/" title="Contact and Support" class="md-nav__link">
      Contact and Support
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../Job_Results/" title="Where do my results go?" class="md-nav__link">
      Where do my results go?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../New_Users/" title="Guide for New Users" class="md-nav__link">
      Guide for New Users
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../Paid-For_Resources/" title="Paid-For Resources" class="md-nav__link">
      Paid-For Resources
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../Software/" title="Software" class="md-nav__link">
      Software
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../UCL_Service_For_Me/" title="UCL Service For Me" class="md-nav__link">
      UCL Service For Me
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../howto/" title="How do I?" class="md-nav__link">
      How do I?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Background
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Background
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Background/Batch_Processing/" title="Batch Processing" class="md-nav__link">
      Batch Processing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Background/Cluster_Computing/" title="Cluster Computing" class="md-nav__link">
      Cluster Computing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Background/The_Scheduler/" title="How the scheduler works" class="md-nav__link">
      How the scheduler works
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Systems
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Systems
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Systems/Aristotle/" title="Aristotle" class="md-nav__link">
      Aristotle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Systems/Grace/" title="Grace" class="md-nav__link">
      Grace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Systems/Legion/" title="Legion" class="md-nav__link">
      Legion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Systems/Michael/" title="MMM Michael" class="md-nav__link">
      MMM Michael
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Systems/Myriad/" title="Myriad" class="md-nav__link">
      Myriad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Systems/Thomas/" title="MMM Thomas" class="md-nav__link">
      MMM Thomas
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" checked>
    
    <label class="md-nav__link" for="nav-11">
      Wiki Export
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Wiki Export
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Acknowledging_RC_Systems/" title="Acknowledging the Use of RC Systems" class="md-nav__link">
      Acknowledging the Use of RC Systems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Additional_Resource_Requests/" title="Additional Resource Requests" class="md-nav__link">
      Additional Resource Requests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Building_and_Running_Matlab_Programs/" title="Building and Running Matlab Programs" class="md-nav__link">
      Building and Running Matlab Programs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Compiling/" title="Compiling Your Code" class="md-nav__link">
      Compiling Your Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Connecting_to_RC_Systems/" title="Connecting to RC Systems" class="md-nav__link">
      Connecting to RC Systems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Connecting_to_Research_Data_Services/" title="Connecting to Research Data Services" class="md-nav__link">
      Connecting to Research Data Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Example_Submission_Scripts/" title="Example Submission Scripts" class="md-nav__link">
      Example Submission Scripts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../GPU_Clusters/" title="GPU clusters" class="md-nav__link">
      GPU clusters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../GPU_Nodes/" title="GPU nodes" class="md-nav__link">
      GPU nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Getting_an_Account/" title="Getting an Account" class="md-nav__link">
      Getting an Account
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Installing_PGI/" title="Installing PGI" class="md-nav__link">
      Installing PGI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Interactive_Jobs/" title="Interactive Job Sessions" class="md-nav__link">
      Interactive Job Sessions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Known_Issues/" title="Known Issues" class="md-nav__link">
      Known Issues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../News_and_Events/" title="News and Events" class="md-nav__link">
      News and Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Planned_Service_Outages/" title="Planned Service Outages" class="md-nav__link">
      Planned Service Outages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Points_of_Contact/" title="Points of Contact" class="md-nav__link">
      Points of Contact
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Publications/" title="Publications" class="md-nav__link">
      Publications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Quick_Start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../RC_Systems/" title="Research Computing Platforms" class="md-nav__link">
      Research Computing Platforms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../RC_Systems_user_environment/" title="RC Systems user environment" class="md-nav__link">
      RC Systems user environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Reporting_problems/" title="Reporting problems" class="md-nav__link">
      Reporting problems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Research_Computing_Glossary/" title="Research Computing Glossary" class="md-nav__link">
      Research Computing Glossary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Terms_and_Conditions/" title="Terms and Conditions" class="md-nav__link">
      Terms and Conditions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Training/" title="Training" class="md-nav__link">
      Training
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../UCL_UK_e-Science_Certificates/" title="UCL UK e-Science Certificates" class="md-nav__link">
      UCL UK e-Science Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User_Scripts/" title="User Scripts" class="md-nav__link">
      User Scripts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../X-Forwarding/" title="X-Forwarding" class="md-nav__link">
      X-Forwarding
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-29" type="checkbox" id="nav-11-29">
    
    <label class="md-nav__link" for="nav-11-29">
      Needs work
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-29">
        Needs work
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../needs_work/Managing_Data_on_RC_Systems/" title="Managing Data on RC Systems" class="md-nav__link">
      Managing Data on RC Systems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../needs_work/Resource_Allocation/" title="Resource Allocation" class="md-nav__link">
      Resource Allocation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../needs_work/Running_Hybrid_OpenMP__MPI_Code/" title="Running Hybrid OpenMP/MPI Code" class="md-nav__link">
      Running Hybrid OpenMP/MPI Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../needs_work/Summary_of_Legion_changes/" title="Summary of Legion changes" class="md-nav__link">
      Summary of Legion changes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-30" type="checkbox" id="nav-11-30" checked>
    
    <label class="md-nav__link" for="nav-11-30">
      Software
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-30">
        Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-30-1" type="checkbox" id="nav-11-30-1">
    
    <label class="md-nav__link" for="nav-11-30-1">
      Done
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-11-30-1">
        Done
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/ANSYS/" title="ANSYS Software" class="md-nav__link">
      ANSYS Software
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/ATLAS/" title="ATLAS" class="md-nav__link">
      ATLAS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/BEAST/" title="BEAST" class="md-nav__link">
      BEAST
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/CASTEP/" title="CASTEP" class="md-nav__link">
      CASTEP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/FSL/" title="FSL" class="md-nav__link">
      FSL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/FreeSurfer/" title="FreeSurfer" class="md-nav__link">
      FreeSurfer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/MKL/" title="MKL" class="md-nav__link">
      MKL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/OpenBLAS/" title="OpenBLAS" class="md-nav__link">
      OpenBLAS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/Quantum_Espresso/" title="Quantum Espresso" class="md-nav__link">
      Quantum Espresso
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../done/R_packages_available_on_Legion/" title="R packages available on Legion" class="md-nav__link">
      R packages available on Legion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-30-2" type="checkbox" id="nav-11-30-2" checked>
    
    <label class="md-nav__link" for="nav-11-30-2">
      Unedited
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-11-30-2">
        Unedited
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Running_CP2K_on_Legion/" title="Running CP2K on Legion" class="md-nav__link">
      Running CP2K on Legion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Running_DL_Poly_4_on_Legion/" title="Running DL Poly 4 on Legion" class="md-nav__link">
      Running DL Poly 4 on Legion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Running_GROMACS_on_Legion/" title="Running GROMACS on Legion" class="md-nav__link">
      Running GROMACS on Legion
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Running Gaussian 09 on Legion
      </label>
    
    <a href="./" title="Running Gaussian 09 on Legion" class="md-nav__link md-nav__link--active">
      Running Gaussian 09 on Legion
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#shared-memory-gaussian-jobs" title="Shared memory Gaussian jobs" class="md-nav__link">
    Shared memory Gaussian jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-long-gaussian-jobs" title="Submitting Long Gaussian Jobs" class="md-nav__link">
    Submitting Long Gaussian Jobs
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Running_LAMMPS_on_Legion/" title="Running LAMMPS on Legion" class="md-nav__link">
      Running LAMMPS on Legion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Running_ROOT_on_Legion/" title="Running ROOT on Legion" class="md-nav__link">
      Running ROOT on Legion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Running_TractoR_on_Legion/" title="Running TractoR on Legion" class="md-nav__link">
      Running TractoR on Legion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#shared-memory-gaussian-jobs" title="Shared memory Gaussian jobs" class="md-nav__link">
    Shared memory Gaussian jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-long-gaussian-jobs" title="Submitting Long Gaussian Jobs" class="md-nav__link">
    Submitting Long Gaussian Jobs
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/UCL-RITS/mkdocs-rc-docs/blob/master/mkdocs-project-dir/docs/Wiki_Export/software/unedited/Running_Gaussian_09_on_Legion.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Running Gaussian 09 on Legion</h1>
                
                <p>Gaussian 09 (G09) revisions C.01 and the older A.02 are available on
legion and currently can be used in either:</p>
<ul>
<li>Serial mode and shared memory parallel mode within single nodes
    using at most four processors when running on type W nodes or twelve
    processors when running on type X, Y or Z nodes. Module:
    <em>gaussian/g09_a02/pgi</em></li>
<li>Linda parallel execution mode across multiple nodes. Note: not all
    calculations are Linda parallel. From the Gaussian documentation
    "HF, CIS=Direct, and DFT calculations on molecules are Linda
    parallel, including energies, optimizations and frequencies. TDDFT
    energies and MP2 energies and gradients are also Linda parallel. PBC
    calculations are not Linda parallel. The default for molecules
    larger than 65 atoms is to use the linear scaling algorithms (FMM).
    The linear scaling (FMM-based) algorithms are now Linda-parallel, so
    Linda parallel jobs on large molecules do not need to specify NoFMM,
    and will run faster with the default algorithms chosen by the
    program." Module: <em>gaussian/g09_a02_linda/pgi</em></li>
</ul>
<p>Access to G09 is enabled by a module file and being a member of the
appropriate reserved application group. Please email
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#99;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#117;&#99;&#108;&#46;&#97;&#99;&#46;&#117;&#107;">&#114;&#99;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#117;&#99;&#108;&#46;&#97;&#99;&#46;&#117;&#107;</a> to get your userid added to the G09 group.</p>
<p>All G09 jobs apart from small test jobs (4 cores and less than 5 minutes
runtime) must be submitted as batch jobs. Before you can run G09
interactively you need to load the G09 module and run an initialisation
script using: ```</p>
<p><code>module load gaussian/g09_c01_linda/pgi</code><br />
<code>. $g09root/g09/bsd/g09.profile</code></p>
<p><code>for revision C.01. To use the older version use the
*gaussian/g09\_a02\_linda/pgi* module instead. You can use:</code></p>
<p><code>module list</code></p>
<p><code>to check that the module is loaded. Output should look similar
to this:</code></p>
<p><code>Currently Loaded Modulefiles:</code><br />
<code>1) ucl                          6) nedit/5.6</code><br />
<code>2) compilers/intel/11.1/072     7) mrxvt/0.5.4</code><br />
<code>3) mkl/10.2.5/035               8) rcops/1.0</code><br />
<code>4) mpi/qlogic/1.2.7/intel       9) gaussian/g09_c01_linda/pgi</code><br />
<code>5) sge/6.2u3</code></p>
<p><code>You should now be able to run G09 using:</code></p>
<p><code>g09 &lt; myG09input &gt; myG09output</code></p>
<p>``` for example.</p>
<p>To submit batch jobs to the cluster you will need a runscript.</p>
<h3 id="shared-memory-gaussian-jobs">Shared memory Gaussian jobs<a class="headerlink" href="#shared-memory-gaussian-jobs" title="Permanent link">§</a></h3>
<p>Here is a simple example G09 runscript for shared memory jobs including
comments:</p>
<table>
<tbody>
<tr class="odd">
<td><p>```</p>
<p>```#!/bin/bash -l```</p>
<p>```# Batch script to run a shared memory Gaussian 09 job on Legion with the```</p>
<p>```# upgraded software stack under SGE.```</p>
<p>```#```</p>
<p>```# Aug 2012```</p>
<p>```#```</p>
<p>```# Based on openmp.sh by:```</p>
<p>```#```</p>
<p>```# Owain Kenway, Research Computing, 16/Sept/2010```</p>
<p>```#$ -S /bin/bash```</p>
<p>```# 1. Request 12 hours of wallclock time (format hours:minutes:seconds).```</p>
<p>```#$ -l h_rt=12:0:0```</p>
<p>```# 2. Request 4 gigabyte of RAM.```</p>
<p>```#$ -l mem=4G```</p>
<p>```# 3. Set the name of the job.```</p>
<p>```#$ -N G09_job1```</p>
<p>```# 4. Select  4 OpenMP threads (the most possible on Legion is 12).```</p>
<p>```#$ -l thr=4```</p>
<p>```# 5. Select the project that this job will run under.```</p>
<p>```#$ -P ```<your_project_name></p>
<p>```# 6. Set the working directory to somewhere in your scratch space.  This is```</p>
<p>```# a necessary step with the upgraded software stack as compute nodes cannot```</p>
<p>```# write to $HOME.```</p>
<p>```#```</p>
<p>```# Note: this directory MUST exist before your job starts!```</p>
<p>```#$ -wd /home/```<your_UCL_id>```/Scratch/G09_output```</p>
<p>```# Setup G09 runtime environment```</p>
<p>```module load gaussian/g09_c01_linda/pgi```</p>
<p>```source $g09root/g09/bsd/g09.profile```</p>
<p>```mkdir -p $GAUSS_SCRDIR```</p>
<p>```# Run g09 job```</p>
<p>```echo &quot;GAUSS_SCRDIR = $GAUSS_SCRDIR&quot;```</p>
<p>```echo &quot;&quot;```</p>
<p>```echo &quot;Running: g09 &lt; $g09infile &gt; $g09outfile&quot;```</p>
<p>```g09 &lt; $g09infile &gt; $g09outfile```</p>
<p>```</p></td>
</tr>
</tbody>
</table>

<p>This is available on Legion in: ```</p>
<p><code>/shared/ucl/apps/Gaussian/G09_C01_L/run-g09.sh</code></p>
<p>``` Please copy if you wish and edit it to suit your jobs. You will
need to change the <em>-P <your_project_name></em> and <em>-wd
/home/<your_UCL_id>/Scratch/G09_output</em> SGE directives and may need to
change the memory, wallclock time, number of threads and job name
directives as well. A suitable qsub command to submit a G09 job using
this runscript would be:</p>
<div class="codehilite"><pre><span></span>``qsub -v g09infile=`pwd`/MyData.com,g09outfile=MyOutput.out run-g09.sh``

``` where *Mydata.com* is the file containing your G09 commands and
*MyOuput.out* is the output file. In this example input, and your
runscript files are in your current working directory. The output file
is saved in the directory specified by the -wd SGE directive.

### Linda parallel Gaussian jobs

Here is a simple example G09 runscript for Linda parallel jobs including
comments:

&lt;table&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td&gt;&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;```#!/bin/bash -l```&lt;/p&gt;
&lt;p&gt;```# Batch script to run a Gaussian 09 job on Legion using Linda with the upgraded```&lt;br /&gt;
```# software stack under SGE.```&lt;br /&gt;
```#```&lt;br /&gt;
```# Aug 2012```&lt;br /&gt;
```#```&lt;br /&gt;
```# Based on the Qlogic MPI and Hybrid example scripts at```&lt;br /&gt;
```#```&lt;br /&gt;
```# ```&lt;a href=&quot;http://www.ucl.ac.uk/isd/staff/research_services/research-computing/services/legion-upgrade/userguide/submissionscripts&quot;&gt;```http://www.ucl.ac.uk/isd/staff/research_services/research-computing/services/legion-upgrade/userguide/submissionscripts```&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;```#$ -S /bin/bash```&lt;/p&gt;
&lt;p&gt;```# 2. Request 12 hours of wallclock time (format hours:minutes:seconds).```&lt;br /&gt;
```#$ -l h_rt=12:0:0```&lt;/p&gt;
&lt;p&gt;```# 3. Request 4 gigabyte of RAM.```&lt;br /&gt;
```#$ -l mem=4G```&lt;/p&gt;
&lt;p&gt;```# 4. Set the name of the job.```&lt;br /&gt;
```#$ -N G09l_job1```&lt;/p&gt;
&lt;p&gt;```# 5a. Select the QLogic parallel environment (qlc) and 2 processes (Linda ```&lt;br /&gt;
```#     workers).```&lt;br /&gt;
```#$ -pe qlc 2```&lt;/p&gt;
&lt;p&gt;```# 5b. Select number of threads per Linda worker (value of NProcShared in your```&lt;br /&gt;
```#     Gaussian input file.```&lt;br /&gt;
```#$ -l thr=4```&lt;/p&gt;
&lt;p&gt;```# 6. Select the project that this job will run under.```&lt;br /&gt;
```#$ -P ```&lt;your_project_name&gt;&lt;/p&gt;
&lt;p&gt;```# 7. Set the working directory to somewhere in your scratch space.  This is```&lt;br /&gt;
```# a necessary step with the upgraded software stack as compute nodes cannot```&lt;br /&gt;
```# write to $HOME.```&lt;br /&gt;
```#```&lt;br /&gt;
```# Note: this directory MUST exist before your job starts!```&lt;br /&gt;
```#$ -wd /home/```&lt;your_UCL_id&gt;```/Scratch/G09_output```&lt;/p&gt;
&lt;p&gt;```# 8. Run our G09 Linda job.```&lt;/p&gt;
&lt;p&gt;```# Setup G09 runtime environment```&lt;/p&gt;
&lt;p&gt;```module load gaussian/g09_c01_linda/pgi```&lt;br /&gt;
```source $g09root/g09/bsd/g09.profile```&lt;br /&gt;
```mkdir -p $GAUSS_SCRDIR```&lt;/p&gt;
&lt;p&gt;```# Pre-process G09 input file to include nodes alocated to job```&lt;/p&gt;
&lt;p&gt;```echo &amp;quot;Running: lindaConv $g09infile $JOB_ID $TMPDIR/machines&amp;quot;```&lt;br /&gt;
```echo &#39;&#39;```&lt;br /&gt;
```$lindaConv $g09infile $JOB_ID $TMPDIR/machines```&lt;/p&gt;
&lt;p&gt;```# Run g09 job```&lt;/p&gt;
&lt;p&gt;```echo &amp;quot;GAUSS_SCRDIR = $GAUSS_SCRDIR&amp;quot;```&lt;br /&gt;
```echo &amp;quot;&amp;quot;```&lt;br /&gt;
```echo &amp;quot;Running: g09 &amp;lt; job$JOB_ID.com &amp;gt; $g09outfile&amp;quot;```&lt;/p&gt;
&lt;p&gt;```# communication needs to be via ssh not the Linda default```&lt;br /&gt;
```export GAUSS_LFLAGS=&#39;-v -opt &amp;quot;Tsnet.Node.lindarsharg: ssh&amp;quot;&#39;```&lt;/p&gt;
&lt;p&gt;```time g09 &amp;lt; job$JOB_ID.com &amp;gt; $g09outfile```&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

This script is more complicated that the shared memory example as your
Gaussian input file needs to be preprocessed to insert information about
the nodes SGE has allocated to the job.

This is available on Legion in: ```

`/shared/ucl/apps/Gaussian/G09_C01_L/run-g09-linda.sh`
</pre></div>


<p>Please copy if you wish and edit it to suit your jobs. You will need to
change the <em>-P <your_project_name></em> and <em>-wd
/home/<your_UCL_id>/Scratch/G09_output</em> SGE directives and may need to
change the memory, wallclock time, number of Linda workers (the -pe
directive), number of threads and job name directives as well. A
suitable qsub command to submit a G09 job using this runscript would be:</p>
<div class="codehilite"><pre><span></span>``qsub -v g09infile=`pwd`/MyData.com,g09outfile=MyOutput.out run-g09-linda.sh``
</pre></div>


<p>where <em>Mydata.com</em> is the file containing your G09 commands and
<em>MyOuput.out</em> is the output file. In this example input, and your
runscript files are in your current working directory. The output file
is saved in the directory specified by the -wd SGE directive.</p>
<h3 id="submitting-long-gaussian-jobs">Submitting Long Gaussian Jobs<a class="headerlink" href="#submitting-long-gaussian-jobs" title="Permanent link">§</a></h3>
<p>It is possible to obtain permission to submit single node Gaussian jobs
with wallclock times between 2 and 7 days. For details of how to gain
access to the 7-day Gaussian queue see <a href="Legion_Resource_Allocation#Requests_for_Additional_Resources_or_Resource_Reservations" title="wikilink"> Requests for Additional
Resources</a>.</p>
<p>As the 7-day queue is restricted to shared memory Gaussian jobs you will
need to make some changes to your runscripts:</p>
<ol>
<li>Include the grid engine directive:<br />
<code>#$ -ac app=g09</code><br />
    for Gaussian 09 jobs. If the directive is not present, normal job
    wallclock limits apply.</li>
<li>The way Gaussian is launched needs to be modified as the new queues
    launch g09 via a new wrapper command. The new wrapper is G09 - note
    the capital G! It takes arguments for Gaussian command (standard
    input) and output (standard output) files so need to be used like
    so:<br />
<code>G09 commands.in output.out</code><br />
    where <em>commands.in</em> is the file containing your Gaussian commands
    and <em>output.out</em> is the file where standard output will appear. The
    G03 wrapper is used in the same way.</li>
</ol>
<p>Here is a simple Gaussian 09 runscript using the new '7-day' queue:</p>
<table>
<tbody>
<tr class="odd">
<td><p>```</p>
<p>```#!/bin/bash -l```</p>
<p>```# Batch script to run a long Gaussian 09 shared memory job on Legion using ```</p>
<p>```# the restricted '7-day' queue under SGE.```</p>
<p>```#```</p>
<p>```# Aug 2012```</p>
<p>```#```</p>
<p>```# Based on openmp.sh by:```</p>
<p>```#```</p>
<p>```# Owain Kenway, Research Computing, 16/Sept/2010```</p>
<p>```#$ -S /bin/bash```</p>
<p>```# 1. Request 168 hours of wallclock time (format hours:minutes:seconds).```</p>
<p>```#$ -l h_rt=168:0:0```</p>
<p>```# 2. Request 4 gigabyte of RAM.```</p>
<p>```#$ -l mem=8G```</p>
<p>```#$ -ac app=g09```</p>
<p>```# 3. Set the name of the job.```</p>
<p>```#$ -N G09_jobR```</p>
<p>```# 4. Select  12 OpenMP threads (the most possible on Legion).```</p>
<p>```#$ -l thr=12```</p>
<p>```# 5. Select the project that this job will run under.```</p>
<p>```#$ -P ```<your_project_name></p>
<p>```# 6. Set the working directory to somewhere in your scratch space.  This is```</p>
<p>```# a necessary step with the upgraded software stack as compute nodes cannot```</p>
<p>```# write to $HOME.```</p>
<p>```#```</p>
<p>```# Note: this directory MUST exist before your job starts!```</p>
<p>```#$ -wd /home/```<your_UCL_id>```/Scratch/G09_output```</p>
<p>```# Run g09 job```</p>
<p>```echo &quot;GAUSS_SCRDIR = $GAUSS_SCRDIR&quot;```</p>
<p>```echo &quot;&quot;```</p>
<p>```echo &quot;Running: G09 $g09infile $g09outfile&quot;```</p>
<p>```time G09 $g09infile $g09outfile```</p>
<p>```</p></td>
</tr>
</tbody>
</table>

<p>This is available on Legion in: ```</p>
<p><code>/shared/ucl/apps/Gaussian/G09_C01_L/run-g09-res.sh</code></p>
<p><code>Please copy if you wish and edit it to suit your jobs. You will
need to change the *-P &lt;your_project_name&gt;* and *-wd
/home/&lt;your_UCL_id&gt;/Scratch/G09\_output* SGE directives and may need to
change the memory, wallclock time, number of threads and job name
directives as well. A suitable qsub command to submit a G09 job using
this runscript would be:</code></p>
<p><code>qsub -v g09infile=`pwd`/MyData.com,g09outfile=MyOutput.out run-g09-res.sh</code></p>
<p>``` where <em>Mydata.com</em> is the file containing your G09 commands and
<em>MyOuput.out</em> is the output file. In this example input, and your
runscript files are in your current working directory. The output file
is saved in the directory specified by the -wd SGE directive.</p>
<p><a href="Category:Bash_script_pages" title="wikilink">Category:Bash script pages</a>
<a href="Category:Legion" title="wikilink">Category:Legion</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Running_GROMACS_on_Legion/" title="Running GROMACS on Legion" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Running GROMACS on Legion
              </span>
            </div>
          </a>
        
        
          <a href="../Running_LAMMPS_on_Legion/" title="Running LAMMPS on Legion" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Running LAMMPS on Legion
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014 - 2018 UCL Research Computing Group
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/UCL-RITS" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script>
      
    
  </body>
</html>