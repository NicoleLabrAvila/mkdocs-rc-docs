



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for the centrally provided Research Computing HPC services at UCL.">
      
      
        <link rel="canonical" href="https://www.rc.ucl.ac.uk/docs/Wiki_Export/Points_of_Contact/">
      
      
        <meta name="author" content="UCL RCAS Team">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Points of Contact</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/tweaks.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#displaying-user-information" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.rc.ucl.ac.uk/docs/" title="UCL Research Computing Documentation" aria-label="UCL Research Computing Documentation" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../img/portico.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              UCL Research Computing Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Points of Contact
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/UCL-RITS/mkdocs-rc-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    UCL-RITS/mkdocs-rc-docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.rc.ucl.ac.uk/docs/" title="UCL Research Computing Documentation" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../img/portico.svg" width="48" height="48">
      
    </a>
    UCL Research Computing Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/UCL-RITS/mkdocs-rc-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    UCL-RITS/mkdocs-rc-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Account_Services/" title="Account Services" class="md-nav__link">
      Account Services
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Additional_Resource_Requests/" title="Additional Resource Requests" class="md-nav__link">
      Additional Resource Requests
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Contact_Us/" title="Contact and Support" class="md-nav__link">
      Contact and Support
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Example_Jobscripts/" title="Example Jobscripts" class="md-nav__link">
      Example Jobscripts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Experienced_Users/" title="Quick Start Guide for Experienced HPC Users" class="md-nav__link">
      Quick Start Guide for Experienced HPC Users
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Job_Results/" title="Where do my results go?" class="md-nav__link">
      Where do my results go?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../New_Users/" title="Guide for New Users" class="md-nav__link">
      Guide for New Users
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Planned_Outages/" title="Planned Outages" class="md-nav__link">
      Planned Outages
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Terms_and_Conditions/" title="Terms and Conditions" class="md-nav__link">
      Terms and Conditions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../UCL_Service_For_Me/" title="UCL Service For Me" class="md-nav__link">
      UCL Service For Me
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../howto/" title="How do I?" class="md-nav__link">
      How do I?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Background
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Background
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Background/Cluster_Computing/" title="Cluster Computing" class="md-nav__link">
      Cluster Computing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Clusters
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Clusters
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Clusters/Myriad/" title="Myriad" class="md-nav__link">
      Myriad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Clusters/Legion/" title="Legion" class="md-nav__link">
      Legion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Clusters/Grace/" title="Grace" class="md-nav__link">
      Grace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Clusters/Kathleen/" title="Kathleen" class="md-nav__link">
      Kathleen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Clusters/Thomas/" title="MMM Thomas" class="md-nav__link">
      MMM Thomas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Clusters/Michael/" title="MMM Michael" class="md-nav__link">
      MMM Michael
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Installed Software Lists
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Installed Software Lists
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installed_Software_Lists/module-packages/" title="General Software Lists" class="md-nav__link">
      General Software Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installed_Software_Lists/python-packages/" title="Python Packages" class="md-nav__link">
      Python Packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installed_Software_Lists/r-packages/" title="R Packages" class="md-nav__link">
      R Packages
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Other Services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Other Services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other_Services/Aristotle/" title="Aristotle" class="md-nav__link">
      Aristotle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other_Services/UCL_UK_e-Science_Certificates/" title="UCL UK e-Science Certificates" class="md-nav__link">
      UCL UK e-Science Certificates
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17" type="checkbox" id="nav-17">
    
    <label class="md-nav__link" for="nav-17">
      Paid-For Resources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-17">
        Paid-For Resources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Paid-For_Resources/How_to_Use/" title="How to Use" class="md-nav__link">
      How to Use
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Paid-For_Resources/Purchasing_in_Myriad/" title="Purchasing in Myriad" class="md-nav__link">
      Purchasing in Myriad
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18" type="checkbox" id="nav-18">
    
    <label class="md-nav__link" for="nav-18">
      Software Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-18">
        Software Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Software_Guides/Matlab/" title="MATLAB" class="md-nav__link">
      MATLAB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Software_Guides/Singularity/" title="Singularity" class="md-nav__link">
      Singularity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Software_Guides/Other_Software/" title="Other Software" class="md-nav__link">
      Other Software
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Software_Guides/ANSYS/" title="ANSYS Software" class="md-nav__link">
      ANSYS Software
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#show-recent-users" class="md-nav__link">
    Show recent users
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-users-with-a-given-project-institute-contact" class="md-nav__link">
    Show users with a given project, institute, contact
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-for-users-based-on-partial-information" class="md-nav__link">
    Search for users based on partial information
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/UCL-RITS/mkdocs-rc-docs/blob/master/mkdocs-project-dir/docs/Wiki_Export/Points_of_Contact.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p>This page contains tools and information for the nominated Points of
Contact.</p>
<p>Other system-specific information is at <a href="Thomas">Thomas</a> or
<a href="Michael">Michael</a>.</p>
<p>These commands can all be run as <code>thomas-command</code> or <code>michael-command</code>:
they run the same thing and the different names are for convenience.</p>
<h2 id="displaying-user-information">Displaying user information<a class="headerlink" href="#displaying-user-information" title="Permanent link">§</a></h2>
<p><code>thomas-show</code> or <code>michael-show</code> is a tool that enables you to find a lot
of information about users. Access to the database is given to points of
contact individually, contact rc-support@ucl.ac.uk if you try to use
this and get an access denied.</p>
<p>At the top level, <code>--user</code> shows all information for one user, in
multiple tables. <code>--contacts</code> shows all points of contact - useful for
getting the IDs, and <code>--institutes</code> is the same. <code>--allusers</code> will show
everyone's basic info. <code>--getmmm</code> will show the most recently used mmm
username.</p>
<div class="codehilite"><pre><span></span><code>thomas-show -h  
usage: thomas-show [-h] [--user username] [--contacts] [--institutes]  
                  [--allusers] [--getmmm]  
                  {recentusers,getusers,whois} ...

Show data from the Thomas database. Use [positional argument -h] for more  
help.

positional arguments:  
 {recentusers,getusers,whois}  
   recentusers         Show the n newest users (5 by default)  
   getusers            Show all users with this project, institute, contact  
   whois               Search for users matching the given requirements

optional arguments:  
 -h, --help            show this help message and exit  
 --user username       Show all current info for this user  
 --contacts            Show all allowed values for contact  
 --institutes          Show all allowed values for institute  
 --allusers            Show all current users  
 --getmmm              Show the highest mmm username used
</code></pre></div>


<h3 id="show-recent-users">Show recent users<a class="headerlink" href="#show-recent-users" title="Permanent link">§</a></h3>
<p><code>thomas-show recentusers</code> or <code>michael-show recentusers</code> shows you the
most recently-added N users, default 5.</p>
<div class="codehilite"><pre><span></span><code>thomas-show recentusers -h  
usage: thomas-show recentusers [-h] [-n N]

optional arguments:  
 -h, --help  show this help message and exit  
 -n N
</code></pre></div>


<h3 id="show-users-with-a-given-project-institute-contact">Show users with a given project, institute, contact<a class="headerlink" href="#show-users-with-a-given-project-institute-contact" title="Permanent link">§</a></h3>
<p><code>thomas-show getusers</code> or <code>michael-show getusers</code> will search for exact
matches to the given project, institute, contact combination.</p>
<div class="codehilite"><pre><span></span><code>thomas-show getusers -h  
usage: thomas-show getusers [-h] [-p PROJECT] [-i INST_ID] [-c POC_ID]

optional arguments:  
 -h, --help            show this help message and exit  
 -p PROJECT, --project PROJECT  
                       Project name  
 -i INST_ID, --institute INST_ID  
                       Institute ID  
 -c POC_ID, --contact POC_ID  
                       Point of Contact ID
</code></pre></div>


<h3 id="search-for-users-based-on-partial-information">Search for users based on partial information<a class="headerlink" href="#search-for-users-based-on-partial-information" title="Permanent link">§</a></h3>
<p><code>thomas-show whois</code> or <code>michael-show whois</code> can be used to search for
partial matches to username, name, email fragments, including all of
those in
combination.</p>
<div class="codehilite"><pre><span></span><code>thomas-show whois -h  
usage: thomas-show whois [-h] [-u USERNAME] [-e EMAIL] [-n GIVEN_NAME]  
                        [-s SURNAME]

optional arguments:  
 -h, --help            show this help message and exit  
 -u USERNAME, --user USERNAME  
                       UCL username of user contains  
 -e EMAIL, --email EMAIL  
                       Email address of user contains  
 -n GIVEN_NAME, --name GIVEN_NAME  
                       Given name of user contains  
 -s SURNAME, --surname SURNAME  
                       Surname of user contains
</code></pre></div>


<h2 id="adding-user-information-and-new-projects">Adding user information and new projects<a class="headerlink" href="#adding-user-information-and-new-projects" title="Permanent link">§</a></h2>
<p><code>thomas-add</code> or <code>michael-add</code> will add information to the database.
Access to the database is given to points of contact individually,
contact rc-support@ucl.ac.uk if you try to use this and get an access
denied.</p>
<p>Please note that all options have a <code>--debug</code> flag that will allow you
to see the query generated without committing the changes to the
database - double-check that the information you are adding is
correct.</p>
<div class="codehilite"><pre><span></span><code>thomas-add -h  
usage: thomas-add [-h] {user,project,projectuser,poc,institute} ...

Add data to the Thomas database. Use [positional argument -h] for more help.

positional arguments:  
 {user,project,projectuser,poc,institute}  
   user                Adding a new user with their initial project  
   project             Adding a new project  
   projectuser         Adding a new user-project-contact relationship  
   poc                 Adding a new Point of Contact  
   institute           Adding a new institute/consortium

optional arguments:  
 -h, --help            show this help message and exit
</code></pre></div>


<h2 id="add-a-new-user">Add a new user<a class="headerlink" href="#add-a-new-user" title="Permanent link">§</a></h2>
<p><code>thomas-add user</code> or <code>michael-add user</code> allows you to add a new user,
with their initial project and point of contact. This does not create
their account, but does email us with everything we need in order to
create it. If you run this, you do not need to email us separately. The
project specified must
exist.</p>
<div class="codehilite"><pre><span></span><code>thomas-add user -h  
usage: thomas-add user [-h] -u USERNAME -n GIVEN_NAME [-s SURNAME] -e  
                      EMAIL_ADDRESS -k &quot;SSH_KEY&quot; -p PROJECT_ID -c POC_ID  
                      [--debug]

optional arguments:  
 -h, --help            show this help message and exit  
 -u USERNAME, --user USERNAME  
                       UCL username of user  
 -n GIVEN_NAME, --name GIVEN_NAME  
                       Given name of user  
 -s SURNAME, --surname SURNAME  
                       Surname of user (optional)  
 -e EMAIL_ADDRESS, --email EMAIL_ADDRESS  
                       Institutional email address of user  
 -k &quot;SSH_KEY&quot;, --key &quot;SSH_KEY&quot;  
                       User&#39;s public ssh key (quotes necessary)  
 -p PROJECT_ID, --project PROJECT_ID  
                       Initial project the user belongs to  
 -c POC_ID, --contact POC_ID  
                       Short ID of the user&#39;s Point of Contact  
 --verbose             Show SQL queries that are being submitted  
 --debug               Show SQL query submitted without committing the change
</code></pre></div>


<h3 id="ssh-key-formats">SSH key formats<a class="headerlink" href="#ssh-key-formats" title="Permanent link">§</a></h3>
<p>It will verify the provided ssh key by default. Note that it has to be
in the form <code>ssh-xxx keystartshere</code>. If someone has sent in a key which
has line breaks and header items, make it into this format by adding the
key type to the start and removing the line breaks from the key body.</p>
<p>This key:</p>
<div class="codehilite"><pre><span></span><code>---- BEGIN SSH2 PUBLIC KEY ----  
Comment: &quot;comment goes here&quot;  
AAAAB3NzaC1yc2EAAAABJQAAAQEAlLhFLr/4LGC3cM1xgRZVxfQ7JgoSvnVXly0K  
7MNufZbUSUkKtVnBXAOIjtOYe7EPndyT/SAq1s9RGZ63qsaVc/05diLrgL0E0gW+  
9VptTmiUh7OSsXkoKQn1RiACfH7sbKi6H373bmB5/TyXNZ5C5KVmdXxO+laT8IdW  
7JdD/gwrBra9M9vAMfcxNYVCBcPQRhJ7vOeDZ+e30qapH4R/mfEyKorYxrvQerJW  
OeLKjOH4rSnAAOLcEqPmJhkLL8k6nQAAK3P/E1PeOaB2xD7NNPqfIsjhAJLZ+2wV  
3eUZATx9vnmVF0YafOjvzcoK2GqUrhNAvi7k0f+ihh8twkfthj==  
---- END SSH2 PUBLIC KEY ----
</code></pre></div>


<p>should be converted into</p>
<div class="codehilite"><pre><span></span><code>ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAlLhFLr/4LGC3cM1xgRZVxfQ7JgoSvnVXly0K7MNufZbUSUkKtVnBXAOIjtOYe7EPndyT/SAq1s9RGZ63qsaVc/05diLrgL0E0gW+9VptTmiUh7OSsXkoKQn1RiACfH7sbKi6H373bmB5/TyXNZ5C5KVmdXxO+laT8IdW7JdD/gwrBra9M9vAMfcxNYVCBcPQRhJ7vOeDZ+e30qapH4R/mfEyKorYxrvQerJWOeLKjOH4rSnAAOLcEqPmJhkLL8k6nQAAK3P/E1PeOaB2xD7NNPqfIsjhAJLZ+2wV3eUZATx9vnmVF0YafOjvzcoK2GqUrhNAvi7k0f+ihh8twkfthj==
</code></pre></div>


<p>Other types of keys (dss etc) will say what they are in the first line,
and you should change the <code>ssh-rsa</code> appropriately. The guide linked at
<a href="https://wiki.rc.ucl.ac.uk/wiki/Thomas#Creating_an_ssh_key_in_Windows">Creating an ssh key in
Windows</a>
also shows where users can get the second format out of PuTTY.</p>
<h2 id="add-a-new-project">Add a new project<a class="headerlink" href="#add-a-new-project" title="Permanent link">§</a></h2>
<p><code>thomas-add project</code> or <code>michael-add project</code> will create a new project,
associated with an institution. It will not show in Gold until it also
has a user in it.</p>
<p>A project ID should begin with your institute ID, followed by an
underscore and a project
name.</p>
<div class="codehilite"><pre><span></span><code>thomas-add project -h  
usage: thomas-add project [-h] -p PROJECT_ID -i INST_ID [--debug]

optional arguments:  
 -h, --help            show this help message and exit  
 -p PROJECT_ID, --project PROJECT_ID  
                       A new unique project ID  
 -i INST_ID, --institute INST_ID  
                       Institute ID this project belongs to  
 --debug               Show SQL query submitted without committing the change
</code></pre></div>


<h2 id="add-a-new-projectuser-pairing">Add a new project/user pairing<a class="headerlink" href="#add-a-new-projectuser-pairing" title="Permanent link">§</a></h2>
<p><code>thomas-add projectuser</code> or <code>michael-add projectuser</code> will add an
existing user to an existing project. Creating a new user for an
existing project also creates this relationship. After a new
project-user relationship is added, a cron job will pick that up within
15 minutes and create that project for that user in Gold, with no
allocation.</p>
<div class="codehilite"><pre><span></span><code>thomas-add projectuser -h  
usage: thomas-add projectuser [-h] -u USERNAME -p PROJECT_ID -c POC_ID  
                             [--debug]

optional arguments:  
 -h, --help            show this help message and exit  
 -u USERNAME, --user USERNAME  
                       An existing UCL username  
 -p PROJECT_ID, --project PROJECT_ID  
                       An existing project ID  
 -c POC_ID, --contact POC_ID  
                       An existing Point of Contact ID  
 --debug               Show SQL query submitted without committing the change
</code></pre></div>


<h1 id="gold-resource-allocation">Gold resource allocation<a class="headerlink" href="#gold-resource-allocation" title="Permanent link">§</a></h1>
<p>We are currently using Gold to manage allocations on Thomas and Michael.
There is one Gold database, so all the projects exist on both, but they
are only active on specific clusters.</p>
<h2 id="reporting-from-gold">Reporting from Gold<a class="headerlink" href="#reporting-from-gold" title="Permanent link">§</a></h2>
<p>There are wrapper scripts for a number of Gold commands (these exist in
the <code>userscripts</code> module, loaded by default).</p>
<p>These are all set to report in cpu-hours with the <code>-h</code> flag, as that is
our main unit. If you wish to change anything about the wrappers, they
live in <code>/shared/ucl/apps/cluster-scripts/</code> so you can take a copy and
add your preferred options.</p>
<p>They all have a <code>--man</code> option to see the man pages for that command.</p>
<p>Here are some basic useful options and what they do. They can all be
given more options for more specific
searches.</p>
<div class="codehilite"><pre><span></span><code>gusage -p project_name [-s start_time]  # Show the Gold usage per user in this project, in the given timeframe if specified.  
gbalance                                # Show the balance for every project, split into total, reserved and available.  
glsuser                                 # Shows all the users in Gold.  
glsproject                              # Shows all the projects and which users are in them.  
glsres                                  # Show all the current reservatioms, inc user and project. The Name column is the SGE job ID.  
gstatement                              # Produce a reporting statement showing beginning and end balances, credits and debits.

# Less useful commands  
glstxn                                  # Show all Gold transactions. Filter or it will take forever to run.  
glsalloc                                # Show all the allocations.
</code></pre></div>


<p>These can be run by any user. The date format is YYYY-MM-DD.</p>
<p>Eg. <code>gstatement -p PROJECT -s 2017-08-01</code> will show all credits and
debits for the given project since the given date, saying which user and
job ID each charge was associated with.</p>
<h2 id="transferring-gold">Transferring Gold<a class="headerlink" href="#transferring-gold" title="Permanent link">§</a></h2>
<p>As the point of contact, you can transfer Gold from your allocation
account into other project accounts. As before, we've put <code>-h</code> in the
wrapper so it is always working in
cpu-hours.</p>
<div class="codehilite"><pre><span></span><code>gtransfer --fromProject xxx_allocation --toProject xxx_subproject cpu_hours
</code></pre></div>


<p>You can also transfer in the opposite direction, from the subproject
back into your allocation account.</p>
<p>Note that you are able to transfer your allocation into another
institute's projects, but you cannot transfer it back again - only the
other institute's point of contact (or rc-support) can give it back, so
be careful which project you specify.</p>
<h3 id="when-two-allocations-are-active">When two allocations are active<a class="headerlink" href="#when-two-allocations-are-active" title="Permanent link">§</a></h3>
<p>There is now an overlap period of a week when two allocations can be
active. By default, <code>gtransfer</code> will transfer from active allocations in
the order of earliest expiring first. To transfer from the new
allocation only, you need to specify the allocation
id.</p>
<div class="codehilite"><pre><span></span><code>gtransfer -i allocation_ID --fromProject xxx_allocation --toProject xxx_subproject cpu_hours
</code></pre></div>


<p><code>glsalloc</code> shows you all allocations that ever existed, and the first
column is the
id.</p>
<div class="codehilite"><pre><span></span><code>Id  Account Projects              StartTime  EndTime    Amount     Deposited  Description      
--- ------- --------------------- ---------- ---------- ---------- ---------- --------------   
87  38      UKCP_allocation       2017-08-07 2017-11-05 212800.00 3712800.00  
97  38      UKCP_allocation       2017-10-30 2018-02-04 3712800.00 3712800.00
</code></pre></div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Planned_Service_Outages/" title="Planned Service Outages" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Planned Service Outages
              </span>
            </div>
          </a>
        
        
          <a href="../Publications/" title="Publications" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Publications
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014 - 2020 UCL Research Computing Group
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/UCL-RITS" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
    
  </body>
</html>