
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the centrally provided Research Computing HPC services at UCL.">
      
      
      
        <meta name="author" content="UCL RCAS Team">
      
      
        <link rel="canonical" href="https://www.rc.ucl.ac.uk/docs/Wiki_Export/needs_work/Resource_Allocation/">
      
      <link rel="icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.1">
    
    
      
        <title>Resource Allocation - UCL Research Computing Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.9299cb39.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../../../stylesheets/tweaks.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#governance" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="UCL Research Computing Documentation" class="md-header__button md-logo" aria-label="UCL Research Computing Documentation" data-md-component="logo">
      
  <img src="../../../img/portico.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UCL Research Computing Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Resource Allocation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/UCL-RITS/mkdocs-rc-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    UCL-RITS/mkdocs-rc-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="UCL Research Computing Documentation" class="md-nav__button md-logo" aria-label="UCL Research Computing Documentation" data-md-component="logo">
      
  <img src="../../../img/portico.svg" alt="logo">

    </a>
    UCL Research Computing Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/UCL-RITS/mkdocs-rc-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    UCL-RITS/mkdocs-rc-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Account_Services/" class="md-nav__link">
        Account Services
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Additional_Resource_Requests/" class="md-nav__link">
        Additional Resource Requests
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Contact_Us/" class="md-nav__link">
        Contact and Support
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Example_Jobscripts/" class="md-nav__link">
        Example Jobscripts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Experienced_Users/" class="md-nav__link">
        Quick Start Guide for Experienced HPC Users
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Interactive_Jobs/" class="md-nav__link">
        Interactive Job Sessions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Job_Results/" class="md-nav__link">
        Where do my results go?
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../New_Users/" class="md-nav__link">
        Guide for New Users
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Planned_Outages/" class="md-nav__link">
        Planned Outages
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Remote_Access/" class="md-nav__link">
        Remote Access
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Terms_and_Conditions/" class="md-nav__link">
        Terms and Conditions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../UCL_Service_For_Me/" class="md-nav__link">
        UCL Service For Me
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/" class="md-nav__link">
        How To
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      <label class="md-nav__link" for="__nav_15">
        Background
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Background" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          Background
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Background/Cluster_Computing/" class="md-nav__link">
        Cluster Computing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16" type="checkbox" id="__nav_16" >
      
      <label class="md-nav__link" for="__nav_16">
        Clusters
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Clusters" data-md-level="1">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          Clusters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Clusters/Myriad/" class="md-nav__link">
        Myriad
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Clusters/Grace/" class="md-nav__link">
        Grace
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Clusters/Kathleen/" class="md-nav__link">
        Kathleen
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Clusters/Thomas/" class="md-nav__link">
        MMM Thomas
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Clusters/Michael/" class="md-nav__link">
        MMM Michael
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Clusters/Young/" class="md-nav__link">
        MMM Hub Young
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17" type="checkbox" id="__nav_17" >
      
      <label class="md-nav__link" for="__nav_17">
        Installed Software Lists
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installed Software Lists" data-md-level="1">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          Installed Software Lists
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Installed_Software_Lists/module-packages/" class="md-nav__link">
        General Software Lists
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Installed_Software_Lists/python-packages/" class="md-nav__link">
        Python Packages
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Installed_Software_Lists/r-packages/" class="md-nav__link">
        R Packages
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_18" type="checkbox" id="__nav_18" >
      
      <label class="md-nav__link" for="__nav_18">
        Other Services
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Other Services" data-md-level="1">
        <label class="md-nav__title" for="__nav_18">
          <span class="md-nav__icon md-icon"></span>
          Other Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Other_Services/Aristotle/" class="md-nav__link">
        Aristotle
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Other_Services/UCL_UK_e-Science_Certificates/" class="md-nav__link">
        UCL UK e-Science Certificates
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_19" type="checkbox" id="__nav_19" >
      
      <label class="md-nav__link" for="__nav_19">
        Paid-For Resources
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Paid-For Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_19">
          <span class="md-nav__icon md-icon"></span>
          Paid-For Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Paid-For_Resources/How_to_Use/" class="md-nav__link">
        How to Use
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Paid-For_Resources/Purchasing_in_Myriad/" class="md-nav__link">
        Purchasing in Myriad
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_20" type="checkbox" id="__nav_20" >
      
      <label class="md-nav__link" for="__nav_20">
        Software Guides
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Software Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_20">
          <span class="md-nav__icon md-icon"></span>
          Software Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Software_Guides/ANSYS/" class="md-nav__link">
        ANSYS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Software_Guides/Matlab/" class="md-nav__link">
        MATLAB
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Software_Guides/Singularity/" class="md-nav__link">
        Singularity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Software_Guides/R/" class="md-nav__link">
        R
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Software_Guides/Other_Software/" class="md-nav__link">
        Other Software
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Software_Guides/Installing_Software/" class="md-nav__link">
        Installing Software
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#governance" class="md-nav__link">
    Governance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-allocation-on-legion" class="md-nav__link">
    Resource Allocation on Legion
  </a>
  
    <nav class="md-nav" aria-label="Resource Allocation on Legion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assignment-rules" class="md-nav__link">
    Assignment rules
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wallclock-times" class="md-nav__link">
    Wallclock times
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimating-resources-needed-by-your-job" class="md-nav__link">
    Estimating resources needed by your job
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-requests-must-be-integers" class="md-nav__link">
    Memory requests must be integers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-allocation-on-grace" class="md-nav__link">
    Resource Allocation on Grace
  </a>
  
    <nav class="md-nav" aria-label="Resource Allocation on Grace">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobs-of-less-than-32-cores" class="md-nav__link">
    Jobs of less than 32 cores
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wallclock-times_1" class="md-nav__link">
    Wallclock times
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#priority-access-requests" class="md-nav__link">
    Priority access requests
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/UCL-RITS/mkdocs-rc-docs/blob/master/mkdocs-project-dir/docs/Wiki_Export/needs_work/Resource_Allocation.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Resource Allocation</h1>
                
                <p>For information about requesting additional resources see
<a href="Additional_Resource_Requests" title="wikilink">Additional Resource Requests</a>.</p>
<h2 id="governance">Governance<a class="headerlink" href="#governance" title="Permanent link">§</a></h2>
<p>Resource allocation policy for Research Computing services is determined by the
<a href="http://www.ucl.ac.uk/isd/about/governance/research-it/crag">CRAG</a>,
informed by the user community.</p>
<p>The CRAG reports to the 
<a href="http://www.ucl.ac.uk/isd/staff/research_services/governance/research-computing-group">Research Computing Governance Group</a>.</p>
<h2 id="resource-allocation-on-legion">Resource Allocation on Legion<a class="headerlink" href="#resource-allocation-on-legion" title="Permanent link">§</a></h2>
<p>Allocation of computational resources on the Legion cluster is based on
a combination of job class, wait time and fairshare.</p>
<p>Resource allocation is based on four features of job:</p>
<ul>
<li>Memory size</li>
<li>Core count</li>
<li>Licenses</li>
<li>Wall clock time</li>
</ul>
<p>Legion has nodes of several different types, listed below. The tmpfs is
the maximum size of $TMPDIR that can be
requested.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Cores per node</th>
<th>RAM per node</th>
<th>Connectivity</th>
<th>Nodes</th>
<th>Total Cores</th>
<th>tmpfs</th>
</tr>
</thead>
<tbody>
<tr>
<td>T</td>
<td>32</td>
<td>1511GB</td>
<td>Ethernet</td>
<td>6</td>
<td>192</td>
<td>1536G</td>
</tr>
<tr>
<td>U</td>
<td>16</td>
<td>64GB</td>
<td>Infiniband</td>
<td>160</td>
<td>2560</td>
<td>792G</td>
</tr>
<tr>
<td>V</td>
<td>12 + 2 GPU</td>
<td>48GB</td>
<td>Ethernet</td>
<td>8</td>
<td>96 + 16GPU</td>
<td>358G</td>
</tr>
<tr>
<td>X</td>
<td>12</td>
<td>24GB</td>
<td>Infiniband</td>
<td>144</td>
<td>1728</td>
<td>173G</td>
</tr>
<tr>
<td>Y</td>
<td>12</td>
<td>24GB</td>
<td>Ethernet</td>
<td>99</td>
<td>1188</td>
<td>406G</td>
</tr>
<tr>
<td>Z</td>
<td>12</td>
<td>48GB</td>
<td>Ethernet</td>
<td>4</td>
<td>48</td>
<td>173G</td>
</tr>
<tr>
<td>S</td>
<td>16 + 2 MIC</td>
<td>64GB</td>
<td>Infiniband</td>
<td>10</td>
<td>160 + 20 MIC</td>
<td>1536G</td>
</tr>
<tr>
<td>O</td>
<td>16</td>
<td>64GB</td>
<td>Infiniband</td>
<td>36</td>
<td>576</td>
<td>792G</td>
</tr>
<tr>
<td>P</td>
<td>12 + 1 K40c GPU</td>
<td>8GB</td>
<td>Ethernet</td>
<td>1</td>
<td>12 + 1 K40c GPU</td>
<td>112G</td>
</tr>
<tr>
<td>Q</td>
<td>32</td>
<td>512GB</td>
<td>Ethernet</td>
<td>1</td>
<td>32</td>
<td>1024G</td>
</tr>
</tbody>
</table>
<p>Nodes of type W are the original nodes (now retired), whilst X, Y and Z
are the new nodes added during the Legion III upgrade. Nodes of type X
are for running parallel jobs, nodes of type Y are used for running jobs
which can be run within one node (less than 12 cores) and nodes of type
Z are used for jobs which require more memory. Types T, U and V were
added later. Type T are for jobs with a high memory requirement. Type V
are only for jobs which request a GPU. Type S are only for jobs which
request a mic. The largest job that the general population of users can
run on nodes of types U, S, O and Q will vary as they are mostly paid
for by specific research groups.</p>
<p>When a job is submitted it is evaluated and automatically assigned to
one of several classes, based on information in the job submission
script:</p>
<p>In addition, as before, scheduling is based on the job type of the job.
There are three job types:</p>
<ul>
<li>Multi-node jobs: These jobs require more than one node of the type
    they have been assigned to.</li>
<li>Short, single-node jobs: These have a wall-clock time less than or
    equal to X minutes and fit within a single node of the type they
    have been assigned to.</li>
<li>Long, single-node jobs: These have a wall-clock time greater than X
    and fit within a single node of the type they have been assigned to.</li>
<li>X is under constant evaluation: Assumptions should not be made as to
    the value of X at any given time.</li>
</ul>
<h3 id="assignment-rules">Assignment rules<a class="headerlink" href="#assignment-rules" title="Permanent link">§</a></h3>
<p>The policy defined by the CRAG for scheduling jobs is based on the eight
rules below:</p>
<ol>
<li>Resource requests that cannot be satisfied will cause the job to be
    rejected at submit time.</li>
<li>The number of nodes a job will use will be determined independently
    for each node class. When this is combined with run time
    requirements, may cause the jobs to not be eligible to run on a
    particular node class.</li>
<li>Single node jobs will share the node they run on with other single
    node jobs to the limit of available resources.</li>
<li>Long Single Node jobs are banned from node classes X and U.</li>
<li>Multi node jobs are banned from node classes Y and Z.</li>
<li>Only jobs that request a GPU can use nodes of type V.</li>
<li>Only jobs that request a MIC can use nodes of type S.</li>
<li>Nodes of type T have a scheduling policy like Y/Z for jobs that use
    > 64GB RAM. Other jobs are limited to 1hr. (Eg smp jobs of 32 cores
    need to request > 2G per core).</li>
<li>Jobs requiring Licenses will run on those nodes where they consume
    the fewest licenses.</li>
<li>Users can specify which node classes their jobs will run on,
    provided that they do not contradict the policy set above.</li>
<li>Any other resource matching will be done automatically by the
    scheduler to soonest available resource.</li>
</ol>
<h2 id="wallclock-times">Wallclock times<a class="headerlink" href="#wallclock-times" title="Permanent link">§</a></h2>
<p>Specific information related to wall-clock times and where jobs will run
is summarised in the table
below.</p>
<table>
<thead>
<tr>
<th>Wall clock time</th>
<th>X</th>
<th>Y</th>
<th>Z</th>
<th>T</th>
<th>U</th>
<th>V</th>
<th>S</th>
</tr>
</thead>
<tbody>
<tr>
<td>\&lt;=15 mins</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node*</td>
<td>\&lt;=1 node*</td>
<td>\&lt;=10 nodes*</td>
</tr>
<tr>
<td>\&lt;=12 hours</td>
<td>2-72 nodes</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node*</td>
<td>\&lt;=1-36 nodes*</td>
<td>\&lt;=1 node*</td>
<td>\&lt;=10 nodes*</td>
</tr>
<tr>
<td>\&lt;=1 day</td>
<td>2-42 nodes</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node*</td>
<td>2-25 nodes*</td>
<td>\&lt;=1 node*</td>
<td>\&lt;=1 node*</td>
</tr>
<tr>
<td>\&lt;=2 days</td>
<td>2-21 nodes</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node</td>
<td>\&lt;=1 node*</td>
<td>2-16 nodes*</td>
<td>\&lt;=1 node*</td>
<td>\&lt;=1 node*</td>
</tr>
<tr>
<td>\&lt;=3 days</td>
<td>0</td>
<td>1 core</td>
<td>1 core</td>
<td>1 core*</td>
<td>0*</td>
<td>1 core*</td>
<td>0</td>
</tr>
</tbody>
</table>
<p><em>* marks combinations that have other restrictions as described in the
rules above.</em></p>
<p>The priority of jobs is set as follows:</p>
<ol>
<li>\&lt;=15 min and \&lt;=1 node and eligible for X are set the lowest
    priority because it is expected that these jobs will obtain
    resources via backfill.</li>
<li>All other jobs have priority set inversely proportional to the
    wall-clock time.</li>
<li>With the exception of the jobs in point 1, there is no relationship
    between priority and job size.</li>
<li>Fair-share and wait times are weighted in the priority calculation.</li>
</ol>
<p>In addition to the priority assigned based on job classes, jobs will
also derive priority from fair share; jobs that have been waiting a long
time, or have been submitted by a user and/or project that has not
otherwise consumed many resources recently, will also acquire a higher
priority.</p>
<p>Note that despite these priority assignments it may take longer to
assign resources for large jobs than for small ones. However, the higher
priority assigned to large jobs should prevent smaller jobs from
delaying them. Jobs that request 64 nodes or a little less may be
delayed by the requirement to run within a computational unit.</p>
<h2 id="estimating-resources-needed-by-your-job">Estimating resources needed by your job<a class="headerlink" href="#estimating-resources-needed-by-your-job" title="Permanent link">§</a></h2>
<p>It can be difficult to know where to start when estimating the resources
your job will need. One way you can find out what resources your jobs
need is to submit one job which requests far more than you think
necessary, and gather data on what it actually uses. If you aren't sure
what 'far more' entails, request the maximum wallclock time and job size
that will fit on one node, and reduce this after you have some idea.</p>
<p>Run your program as: </p>
<div class="codehilite"><pre><span></span><code>/usr/bin/time --verbose myprogram myargs
</code></pre></div>

<p>where <code>myprogram myargs</code> is however you normally run your
program, with whatever options you pass to it.</p>
<p>When your job finishes, you will get output about the resources it used
and how long it took - the relevant one for memory is <code>maxrss</code> (maximum
resident set size) which roughly tells you the largest amount of memory
it used.</p>
<p>Remember that memory requests in your jobscript are always per core, so
check the total you are requesting is sensible - if you increase it too
much you may end up with a job that cannot be submitted.</p>
<p>You can also look at <code>nodesforjob $jobID</code> when a job is running to see a
snapshot of the memory, swap and load on the nodes your job is running
on. (But if your job is sharing nodes it will show you the total
resources in use, not just those used by your job). Bear in mind that
memory use can increase over time as your job runs.</p>
<h2 id="memory-requests-must-be-integers">Memory requests must be integers<a class="headerlink" href="#memory-requests-must-be-integers" title="Permanent link">§</a></h2>
<p>SoGE's memory specifiers are integers followed by a multiplier letter.
Valid multiplier letters are k, K, m, M, g, G, t, and T, where k means
multiply the value by 1000, K multiply by 1024, m multiply by 1000×1000,
M multiply by 1024×1024, g multiply by 1000×1000×1000, G multiply by
1024×1024×1024, t multiply by 1000×1000×1000×1000, and T multiply by
1024×1024×1024×1024. If no multiplier is present, the value is just
counted in bytes.</p>
<p>These are valid: </p>
<div class="codehilite"><pre><span></span><code>#$ -l mem=2500M
#$ -l mem=1G
#$ -l mem=1T
</code></pre></div>

<p>but you cannot ask for 1.5G.</p>
<h2 id="resource-allocation-on-grace">Resource Allocation on Grace<a class="headerlink" href="#resource-allocation-on-grace" title="Permanent link">§</a></h2>
<p>Grace is intended for parallel multi-node jobs requesting a minimum of
32 cores.</p>
<p>All nodes on Grace have 16 cores and 64G RAM. The maximum tmpfs that can
be requested is 100G.</p>
<h3 id="jobs-of-less-than-32-cores">Jobs of less than 32 cores<a class="headerlink" href="#jobs-of-less-than-32-cores" title="Permanent link">§</a></h3>
<p>Jobs of less than 32 cores will only run on two of the compute nodes and
the maximum wallclock for those is 12hrs, intended for testing purposes.
If people submit many jobs of that size, the queue for those two nodes
will be long. These workloads should be run on <a href="Myriad">Myriad</a>.</p>
<h3 id="wallclock-times_1">Wallclock times<a class="headerlink" href="#wallclock-times_1" title="Permanent link">§</a></h3>
<table>
<thead>
<tr>
<th>Cores</th>
<th>Max wallclock</th>
</tr>
</thead>
<tbody>
<tr>
<td>32-256</td>
<td>48hrs</td>
</tr>
<tr>
<td>257-512</td>
<td>24hrs</td>
</tr>
<tr>
<td>513-10912</td>
<td>12hrs</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>You may have a very long queue time if you try to use the maximum job
size...</p>
<h2 id="priority-access-requests">Priority access requests<a class="headerlink" href="#priority-access-requests" title="Permanent link">§</a></h2>
<p>Requests to run jobs outside the above limits should be addressed to
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#99;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#117;&#99;&#108;&#46;&#97;&#99;&#46;&#117;&#107;">&#114;&#99;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#117;&#99;&#108;&#46;&#97;&#99;&#46;&#117;&#107;</a> for review (see <a href="Priority_Access">Priority Access</a>). A clear justification for
the request must be included; where requests are made to run jobs for
longer than 3 days, it is expected:</p>
<ul>
<li>the code to be run has been optimised for the cluster you are running it on</li>
<li>the code to be run cannot do checkpoint/restart without major
    modifications.</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../Managing_Data_on_RC_Systems/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Managing Data on RC Systems
            </div>
          </div>
        </a>
      
      
        <a href="../Running_Hybrid_OpenMP__MPI_Code/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Running Hybrid OpenMP/MPI Code
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014 - 2020 UCL Research Computing Group
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/UCL-RITS" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.7353b375.min.js"></script>
      
    
  </body>
</html>